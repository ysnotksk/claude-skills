---
description: Git workflow â€” commit before refactor, branch when large, test before merge, push after merge
globs: "*"
alwaysApply: true
---
# Git Handling (Workflow)

## Commit Before Refactoring
- **Trigger**: Before starting a large refactor or multi-file change.
- **Rule**: Commit the current working tree (all staged and unstaged changes that are ready) so you have a clean restore point. Avoid refactoring on uncommitted work.

## Branch When the Diff Is Too Large
- **Trigger**: When a change is multi-file or high-impact.
- **Rule**: Create a feature branch for the work. Do not pile large, unrelated changes onto the default branch. Merge via PR or local merge after review/tests.

## Run Tests Before Merge
- **Trigger**: Before merging into the default branch (e.g. `main`).
- **Rule**: Run the project test suite and/or build (e.g. `npm test`, `pytest`, `cargo test`) and fix failures before merging.

## Update GitHub (Push After Merge)
- **Trigger**: After merging to the default branch.
- **Rule**: If a remote (e.g. GitHub) is configured, push the updated branch so the remote reflects the merge: e.g. `git push origin main`.
